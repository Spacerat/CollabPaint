<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<script src="/socket.io/socket.io.js"></script>

<!--[if IE]><script type="text/javascript" src="/excanvas.compiled.js"></script><![endif]-->
<script src="/tools.min.js"> </script>
<script src="/jscolor/jscolor.js"></script>
<script src="/paint.js"> </script>
<script src="/jquery-1.5.2.min.js"></script>
<script src="/splitter.js"></script>
<script src="/md5.min.js"></script>
<script>
  $(function() {
    const not_mobile = !matchMedia('(pointer:coarse)').matches;
    const urlParams = new URLSearchParams(window.location.search);
    const hide_ui = urlParams.get("hide_ui") === "true"

    if (not_mobile && !hide_ui) {
      $("#vertical_stretch").splitter({
        type: "v",
        outline: true,
        anchorToWindow: true,
        maxRight: 400,
        sizeRight: 300,
        dock: 'rightDock'
      });
    } else {
      $("#rightpanel").hide()
    }

    jscolor.dir = '/jscolor/';
    var doc = new Paint.Painter();
    doc.CreateToolbar("toolbar");
    doc.CreateCanvas("paint_canvas");
    doc.SetupChat();
    doc.Connect("<%= room%>");
    doc.setTool("Brush");

    /*
    var c = document.getElementById("colpicker");
    var s = document.getElementById("penWidth");
    paint.getColour = function() {return "#"+c.color.toString();}
    paint.getPenWidth = function() {return parseInt(s.value,10);}
    */
  });
</script>